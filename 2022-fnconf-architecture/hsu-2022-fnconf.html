<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Presentation</title>
    <meta charset="utf-8">
    <style>
      body * {
        font-family: "Lucida Sans", "Lucida Sans Unicode";
        text-align: center;
      }

      .apl {
        font-family: "APL385 Unicode";
      }
    </style>
    <script type="text/javascript" src="weenote.js"></script>
  </head>
  <body>

<img src="Speaker Card - Aaron Hsu.png" width="99%" height="99%">

<div>
DSLs/Architecture/Structure:<br>
3 Ways in APL<br><br>
Aaron W. Hsu<br>
Dyalog, Ltd.<br>
Functional Conf 2022
</div>

<div>APL → ?</div>

<div>Funny Symbols</div>

<div>"Big" apps? How?</div>

<div>Architecture?</div>

<div>Symbols<br>→<br>???<br>→<br>Applications</div>

<div>Symbols<br>→<br>Encoding → Flow<br>→<br>Applications</div>

<div>Flow<br>≡<br>Architecture</div>

<div>Story over Engineering</div>

<div>Engeering → Explicit Structure</div>

<div>Story → Implicit structure</div>

<div>Language of Story</div>

<div>Grammar&nbsp;+&nbsp;Vocabulary<br>=<br>Language</div>

<div>Constraints</div>

<div>Predictable Affordances</div>

<div>Steps of a Story</div>

<div>Promise<br>
Progress<br>
Payoff</div>

<div>Novel vs. Law</div>

<div>Bad&nbsp;structure,<br>
Bad Story</div>

<div>Donald Knuth</div>

<div>Literate Programming</div>

<div>Architectures as DSLs for Stories</div>

<div>Architecture<br>→<br>Promise</div>

<div>Visualize, Verbalize</div>

<div>3 Models</div>

<div>State Machine<br>
Combinators<br>
Linear data flow</div>

<div>Parser</div>

<div>(1)</div>
<div>State Machines</div>

<div>Undervalued</div>

<div>Highly constrained</div>

<div>Structured</div>

<div>Rich Formal Theory</div>

<div>Rigorous, Systematic</div>

<div>Solution to the Unknown</div>

<div>Including unknown types!</div>

<div>Explore</div>

<div>Formal tooling</div>

<div>Concurrency</div>

<div>SAM Pattern</div>

<div>Sequent&#8209;based Enumeration</div>

<div>E<sub>0</sub> E<sub>1</sub> ...<br>
→ TF →<br>
R<sub>0</sub> R<sub>1</sub> ...</div>

<div>(Prefix,&nbsp;Event,&nbsp;Response,&nbsp;Equivalent)</div>

<div>State Machine Parser,<br>
Example</div>

<div>State machines fail when...</div>

<div>Verbosity</div>

<div>Parallelism</div>

<div>Global reasoning</div>

<div>(2)</div>

<div>Combinators</div>

<div>Bread and Butter</div>

<div>Domain Mastery</div>

<div>Resets the Baseline</div>

<div>Less Verbose</div>

<div>APL is a Natural Fit</div>

<div>TamStat</div>

<div>Parsing Combinator DSL,<br>
Example</div>

<div>Problems?</div>

<div>Too many combinators</div>

<div>Overlapping domains (proliferation)</div>

<div>Spaghetti Code</div>

<div>Watch the nouns!</div>

<div>Beware excessive data types</div>

<div>Concise, but complex control flow</div>

<div>Requires...</div>

<div>Careful Design</div>

<div>Single Unified Domain</div>

<div>Economical Vocabulary</div>

<div>Sufficiency</div>

<div>Combinators fail when...</div>

<div>Mingled DSLs</div>

<div>Libraries, Building&nbsp;Blocks</div>

<div>Failure to constrain</div>

<div>Architecture not libraries</div>

<div>(3)</div>

<div>Linear data flow</div>

<div>Leanest model</div>

<div>Most desirable, IMO</div>

<div>Requires most domain clarity</div>

<div>Simplest and most direct</div>

<div>Elusive</div>

<div>High "rewrite" friendliness</div>

<div>Easy to teach and read</div>

<div>Amenable to formal methods</div>

<div>Debuggable</div>

<div>Visual</div>

<div>Parallel friendly</div>

<div>Tames the other models</div>

<div>Linear Parsing,<br>
Example</div>

<div>Keys...</div>

<div>Basic Block</div>

<div>Single Entry/exit</div>

<div>Linear flow</div>

<div>Big and Few is best</div>

<div>Micro-transformations</div>

<div>Crisp data invariants</div>

<div>Conclusion</div>

<div>Recommendations</div>

<div>Clean, Linear?<br>Data flow</div>

<div>Clear, unified domain? Combinators</div>

<div>Inherently stateful, event-driven?<br>Global state machine</div>

<div>Unexplored, complex state space?<br>Sequence-based enumeration</div>

<div>Use formal methods</div>

<div>Even pen and paper</div>

<div>Avoid...</div>

<div>Non-linear control flow</div>

<div>Mingling domains</div>

<div>Datatype explosion</div>

<div>Name explosion</div>

<div>Small basic blocks</div>

<div>Too many basic blocks</div>

<div>In&nbsp;the&nbsp;end...</div>

<div>Write good stories.</div>

<div>
Thank&nbsp;you.
</div>

<div>
arcfide@sacrideo.us<br>
aaron@dyalog.com
</div>

  </body>
</html>